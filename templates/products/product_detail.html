{% extends 'base.html' %}

{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-6">
        {% if product.image %}
            <img src="{{ product.image.url }}" class="img-fluid" alt="{{ product.name }}">

        {% else %}
            {% if product.category.slug == 'electronics' %}
                <img src="https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1200&q=80" class="img-fluid" alt="Electronics">
            {% elif product.category.slug == 'clothing' %}
                <img src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=1200&q=80" class="img-fluid" alt="Clothing">
            {% elif product.category.slug == 'accessories' %}
                <img src="https://images.unsplash.com/photo-1528701800489-20be3c30c1d5?auto=format&fit=crop&w=1200&q=80" class="img-fluid" alt="Accessories">
            {% elif product.category.slug == 'home-kitchen' %}
                <img src="https://images.unsplash.com/photo-1505691723518-36a5ac3be353?auto=format&fit=crop&w=1200&q=80" class="img-fluid" alt="Home and kitchen">
            {% else %}
                <img src="https://images.unsplash.com/photo-1514996937319-344454492b37?auto=format&fit=crop&w=1200&q=80" class="img-fluid" alt="Product">
            {% endif %}
        {% endif %}

    </div>
    <div class="col-md-6">
        <h1>{{ product.name }}</h1>
        <p class="lead">NPR {{ product.price }}</p>
        <p>{{ product.description }}</p>
        <p><strong>Category:</strong> {{ product.category.name }}</p>
        <p><strong>Stock:</strong> {{ product.stock }}</p>
        {% if user.is_authenticated %}
            <a href="{% url 'cart:add_to_cart' product.id %}" class="btn btn-success btn-lg">Add to Cart</a>
        {% else %}
            <a href="{% url 'accounts:login' %}" class="btn btn-primary btn-lg">Login to Add to Cart</a>
        {% endif %}
    </div>
</div>
{% endblock %}